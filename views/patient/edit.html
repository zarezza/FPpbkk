<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="css/styles.css">

    <title>Golang FP CRUD</title>
    
  </head>
  <body>
     <div class="container mt-5">
        <h3>Edit Patient Data</h3>
        <a href="/patient" class="btn btn-sm btn-primary">Back to main page</a>
        <hr/>

        {{ if .message }}
            <div class="alert alert-success">
                {{ .message }}
            </div>
        {{ end }}

        <form action="/patient/edit" method="post">
            <div class="form-group">
                <label for="">Full Name</label>
                <input type="text" name="full_name" title="full_name" value="{{ .patient.FullName }}" class="form-control {{ if .validation.FullName }} is-invalid {{ end }}">
                <div class="invalid-feedback">
                    {{ .validation.FullName }}
                </div>
            </div>
            <div class="form-group">
                <label for="">Social Number</label>
                <input type="text" name="social_number" title="social_number" value="{{ .patient.SocialNumber }}" class="form-control {{ if .validation.SocialNumber }} is-invalid {{ end }}">
                <div class="invalid-feedback">
                    {{ .validation.SocialNumber }}
                </div>
            </div>
            <div class="form-group">
                <label for="">Gender</label>
                <select name="gender" title="gender" class="form-control {{ if .validation.Gender }} is-invalid {{ end }}">
                    <option value="">Choose your gender</option>
                    <option {{ if eq .patient.Gender `1` }} selected {{ end }} value="1" >Male</option>
                    <option {{ if eq .patient.Gender `2` }} selected {{ end }} value="2">Female</option>
                </select>
                <div class="invalid-feedback">
                    {{ .validation.Gender }}
                </div>
            </div>
            <div class="form-group">
                <label for="">Birthplace</label>
                <input type="text" name="birthplace" title="birthplace" value="{{ .patient.Birthplace }}" class="form-control {{ if .validation.Birthplace }} is-invalid {{ end }}">
                <div class="invalid-feedback">
                    {{ .validation.Birthplace }}
                </div>
            </div>
            <div class="form-group">
                <label for="">Birthdate</label>
                <input type="date" name="birthdate" title="birthdate" value="{{ .patient.Birthdate}}" class="form-control {{ if .validation.Birthdate }} is-invalid {{ end }}">
                <div class="invalid-feedback">
                    {{ .validation.Birthdate }}
                </div>
            </div>
            <div class="form-group">
                <label for="">Address</label>
                <textarea name="address" title="address" value="{{ .patient.Address }}" class="form-control {{ if .validation.Address }} is-invalid {{ end }}"></textarea>
                <div class="invalid-feedback">
                    {{ .validation.Address }}
                </div>
            </div>
            <div class="form-group">
                <label for="">Phone Number</label>
                <input type="text" name="phone_number" title="phone_number" value="{{ .patient.PhoneNumber }}" class="form-control {{ if .validation.PhoneNumber }} is-invalid {{ end }}">
                <div class="invalid-feedback">
                    {{ .validation.PhoneNumber }}
                </div>
            </div>
            <div class="form-group">
                <input type="hidden" name="id" value="{{ .patient.Id }}">
                <button class="btn btn-primary btn-block" type="submit">Save Edit</button>
            </div> 
        </form>
        
     </div>
  </body>
</html>